# Redux

- [Базовые вопросы](#Базовые-вопросы)
- [Продвинутые вопросы](#Продвинутые-вопросы)

## Базовые вопросы

### Что такое action?

Действие (action) - это простой объект с обязательным полем `type` и не
обязательным `payload`, которое отвечает за данные;
__actionCreator__ - это функция, которая возвращает действие


### Что такое reducer?

Это что-то в роде передатчика, которая принимает прошлое состояние и возвращает следующее


### Как компоненты приложения получают "пропсы" из "стора"?

Компоненты присоединены с помощью функции `connect`. А на самом верху живет redux-компонент
`<Provider />`. `Provider` умеет "прокидывать" пропсы вниз в потомков неявно
Также можно использовать redux hooks:
- `useDispatch` - возвращает ссылку на функцию отправки из хранилища Redux.
  Можно использовать её для отправки действий по мере необходимости
- `useSelector` - Позволяет извлекать данные из состояния хранилища
- `useStore` - возвращает ссылку на то же хранилище Redux, которое было передано
  компоненту `<Provider />`


### Что такое connect?

Connect возвращает новый компонент, обернутый в "приконекченный" компонент,
в котором как раз и живут свойства, пришедшие из редьюсеров (которые туда
прокидывает `Provider`).

Основные аргументы (первые два):

- `mapStateToProps` - функция для чтения из стора, которая возвращает либо обычный объект,
  либо другую функцию. Передача этого аргумента `connect()` приводит к подписке
  компонента на обновления хранилища Redux. Это означает, что функция `mapStateToProps`
  будет вызываться каждый раз, когда состояние хранилища изменяется.
  Имеет 2 аргумента, второй необязательный:
    - state - текущее состояние хранилища Redux
    - props - объект свойств, переданных компоненту

mapDispatchToProps - аргумент для записи в стор. Может быть либо объектом
`actionCreator-ов`, либо функцией, которая возвращает либо обычный объект,
либо другую функцию. Если `mapDispatchToProps` - функция, то она имеет аргумент:
- dispatch - функция, которая передает стору action


## Продвинутые вопросы

### Что такое middleware?

...


### Зачем нужен thunk?

...


### Зачем нужен reselect?

...


### Зачем нужен saga?

...


### Redux vs MobX

__Redux:__

Плюсы:
- Иммутабельность, чистые функции
- Популярность, проще искать решение проблем
- Предсказуемость
- Функциональное программирование

Минусы:
- Много кода, большой boilerplate
- Не интуитивно понятен, достаточно сложная система

__MobX:__

Плюсы:
- Мало кода, гибкая конфигурация
- Удобен, так как многое делает под капотом
- ООП

Минусы:
- Не целостный
- Непредсказуемый местами
